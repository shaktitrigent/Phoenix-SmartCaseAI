# BDD Test Scenarios - Gherkin Format

**Generated:** 2025-10-02 14:47:14
**Provider:** gemini
**User Story:** User Story
As an e-commerce customer,
I want to add items to my shopping cart and update quantities,
So that I can review and purchase multiple products in one checkout.

Acceptance Criteria

User can add items to the cart from product listing and product detail pages.

Cart should display product name, price, quantity, and subtotal for each item.

User can update item quantity (increase/decrease) directly from the cart.

If a product is out of stock, the cart should notify the user and prevent checkout.

The cart total should update automatically when items or quantities change.

Cart contents should persist for logged-in users across sessions.

## Scenario 1: Customer adds a single item from a product detail page and verifies cart display

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Customer adds a single item from a product detail page and verifies cart display
  Given A product 'Laptop X' is available with price $1200 and sufficient stock
  Given The customer is viewing the product detail page for 'Laptop X'
  When The customer clicks the 'Add to Cart' button
  Then The cart icon should indicate 1 item
  Then The cart page should display 'Laptop X' with quantity 1, price $1200, and subtotal $1200
  Then The cart total should be $1200
```

## Scenario 2: Customer increases the quantity of an item in the cart and verifies total update

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Customer increases the quantity of an item in the cart and verifies total update
  Given The customer has 'Laptop X' (quantity 1, price $1200) in their cart
  Given 'Laptop X' has sufficient stock for additional quantity
  Given The customer is viewing their shopping cart
  When The customer increases the quantity of 'Laptop X' to 2
  Then The quantity for 'Laptop X' should update to 2
  Then The subtotal for 'Laptop X' should update to $2400
  Then The cart total should automatically update to $2400
```

## Scenario 3: Customer attempts to add an out-of-stock item

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Customer attempts to add an out-of-stock item
  Given A product 'Limited Edition T-Shirt' is out of stock
  Given The customer is viewing the product detail page for 'Limited Edition T-Shirt'
  When The customer clicks the 'Add to Cart' button
  Then The system should display an 'Out of Stock' notification
  Then The 'Limited Edition T-Shirt' should not be added to the cart
  Then The cart icon should not change
```

## Scenario 4: Logged-in user's cart persists across sessions

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Logged-in user's cart persists across sessions
  Given A customer 'John Doe' is logged in
  Given The customer 'John Doe' has 'Laptop X' (quantity 1) and 'Mouse Y' (quantity 2) in their cart
  Given The customer logs out of their account
  When The customer 'John Doe' logs back into their account
  Then The cart should display 'Laptop X' with quantity 1
  Then The cart should display 'Mouse Y' with quantity 2
  Then The cart total should reflect the sum of these items
```

## Scenario 5: Customer removes an item by decreasing its quantity to zero

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Customer removes an item by decreasing its quantity to zero
  Given The customer has 'Laptop X' (quantity 1, price $1200) and 'Mouse Y' (quantity 1, price $50) in their cart
  Given The customer is viewing their shopping cart
  When The customer decreases the quantity of 'Laptop X' to 0
  Then 'Laptop X' should be removed from the cart display
  Then The cart total should automatically update to reflect only 'Mouse Y' ($50)
  Then The cart should only display 'Mouse Y'
```

## Scenario 6: Customer cannot proceed to checkout if an item in the cart becomes out of stock

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Customer cannot proceed to checkout if an item in the cart becomes out of stock
  Given The customer has 'Product A' (quantity 1, in stock) and 'Product B' (quantity 1, in stock) in their cart
  Given 'Product B' subsequently goes out of stock
  Given The customer is viewing their shopping cart
  When The customer clicks the 'Proceed to Checkout' button
  Then The system should display a notification that 'Product B' is out of stock
  Then The 'Proceed to Checkout' button should be disabled or the customer should be prevented from proceeding
  Then The cart should highlight 'Product B' as out of stock
```

## Scenario 7: Customer adds multiple items from product listing page and verifies cart details

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Customer adds multiple items from product listing page and verifies cart details
  Given 'Product A' is available with price $10 and sufficient stock
  Given 'Product B' is available with price $20 and sufficient stock
  Given The customer is on the product listing page
  When The customer adds 'Product A' to the cart
  When The customer adds 'Product B' to the cart
  Then The cart should display 'Product A' with quantity 1, price $10, subtotal $10
  Then The cart should display 'Product B' with quantity 1, price $20, subtotal $20
  Then The cart total should be $30
```

