# Test Cases - Plain English Format

**Generated:** 2025-10-02 14:46:32
**Provider:** gemini
**User Story:** User Story
As an e-commerce customer,
I want to add items to my shopping cart and update quantities,
So that I can review and purchase multiple products in one checkout.

Acceptance Criteria

User can add items to the cart from product listing and product detail pages.

Cart should display product name, price, quantity, and subtotal for each item.

User can update item quantity (increase/decrease) directly from the cart.

If a product is out of stock, the cart should notify the user and prevent checkout.

The cart total should update automatically when items or quantities change.

Cart contents should persist for logged-in users across sessions.

## Test Case 1: Add Multiple Items from Different Pages and Verify Cart Display

**Description:** Verify that a user can add multiple items to the cart from both product listing and product detail pages, and that the cart accurately displays all required information for each item and the overall total.

**Steps:**
1. Navigate to a product listing page.
2. Select 'Add to Cart' for Product A (e.g., Quantity 1).
3. Navigate to a product detail page for Product B.
4. Select 'Add to Cart' for Product B (e.g., Quantity 2).
5. Navigate to the shopping cart page.

**Expected Result:** The cart page displays both Product A and Product B. For each product, the correct product name, price, quantity, and subtotal are shown. The overall cart total accurately reflects the sum of all item subtotals.

## Test Case 2: Update Item Quantity and Verify Automatic Total Update

**Description:** Verify that a user can increase and decrease the quantity of an item directly from the cart, and that the item's subtotal and the overall cart total update automatically and correctly.

**Steps:**
1. Locate Product C in the cart.
2. Increase the quantity of Product C (e.g., from 1 to 3).
3. Observe the subtotal for Product C and the overall cart total.
4. Decrease the quantity of Product C (e.g., from 3 to 2).
5. Observe the subtotal for Product C and the overall cart total again.

**Expected Result:** After increasing quantity, Product C's subtotal and the cart total update immediately to reflect the new quantity. After decreasing quantity, Product C's subtotal and the cart total update immediately to reflect the new quantity. All calculations are accurate (price * new quantity).

## Test Case 3: Attempt to Add Out-of-Stock Item to Cart

**Description:** Verify that the system prevents adding an out-of-stock item to the cart and provides an appropriate notification to the user.

**Steps:**
1. Navigate to the product detail page for Product D (out of stock).
2. Attempt to add Product D to the cart using the 'Add to Cart' button.

**Expected Result:** The system displays a clear notification (e.g., 'Product D is out of stock', 'Cannot add to cart') and Product D is not added to the shopping cart.

## Test Case 4: Prevent Checkout with Out-of-Stock Item in Cart

**Description:** Verify that if an item in the cart becomes out of stock, the user is notified and prevented from proceeding to checkout.

**Steps:**
1. Ensure Product E is in the cart (e.g., quantity 1).
2. Simulate Product E going out of stock in the backend.
3. Refresh the cart page or navigate to checkout.
4. Attempt to proceed to the checkout process.

**Expected Result:** The cart page displays a notification indicating Product E is out of stock. The 'Proceed to Checkout' button is either disabled or attempting to click it results in an error message preventing checkout, clearly stating the reason.

## Test Case 5: Remove Item by Decreasing Quantity to Zero

**Description:** Verify that decreasing an item's quantity to zero from the cart removes the item entirely and updates the cart total.

**Steps:**
1. Locate Product F in the cart.
2. Decrease the quantity of Product F (e.g., from 1 to 0 or click a 'remove' button if available, which effectively sets quantity to 0).
3. Observe the cart display and the overall cart total.

**Expected Result:** Product F is removed from the cart display. The overall cart total updates automatically to reflect the removal of Product F.

## Test Case 6: Cart Contents Persistence for Logged-in User Across Sessions

**Description:** Verify that for a logged-in user, items added to the cart persist even after logging out and logging back in.

**Steps:**
1. Log in as a registered user.
2. Add Product G (Quantity 1) and Product H (Quantity 2) to the cart.
3. Verify items are in the cart and the total is correct.
4. Log out of the account.
5. Close the browser or clear session data (if applicable for a hard session reset).
6. Open the browser and log in again with the same user account.
7. Navigate to the shopping cart page.

**Expected Result:** The shopping cart displays Product G and Product H with their respective quantities. The cart total is the same as before logging out.

## Test Case 7: Attempt to Add More Than Available Stock

**Description:** Verify that the system prevents a user from adding more items to the cart than are currently available in stock.

**Steps:**
1. Navigate to the product detail page for Product I.
2. Attempt to add a quantity greater than the available stock (e.g., 6 units) to the cart.
3. Alternatively, if Product I (Quantity 4) is already in the cart, attempt to increase its quantity to 6.

**Expected Result:** The system displays a clear notification (e.g., 'Only 5 units of Product I are available', 'Cannot add more than available stock'). The cart quantity for Product I does not exceed the available stock, and the item is not added or updated beyond the stock limit.

