# BDD Test Scenarios - Gherkin Format

**Generated:** 2025-10-02 14:16:16
**Provider:** gemini
**User Story:** User Story
As an e-commerce customer,
I want to add items to my shopping cart and update quantities,
So that I can review and purchase multiple products in one checkout.

Acceptance Criteria

User can add items to the cart from product listing and product detail pages.

Cart should display product name, price, quantity, and subtotal for each item.

User can update item quantity (increase/decrease) directly from the cart.

If a product is out of stock, the cart should notify the user and prevent checkout.

The cart total should update automatically when items or quantities change.

Cart contents should persist for logged-in users across sessions.

## Scenario 1: Customer adds a single item from a product detail page

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Customer adds a single item from a product detail page
  Given A customer is viewing the product detail page for 'Laptop Pro X' (ID: 123) which is in stock.
  Given The customer's cart is currently empty.
  When The customer clicks the 'Add to Cart' button.
  Then The system should display a success message 'Laptop Pro X added to cart'.
  Then The cart icon should indicate 1 item.
  Then The cart page should display 'Laptop Pro X' with quantity 1, its price, and a subtotal matching the price.
  Then The cart total should be equal to the price of 'Laptop Pro X'.
```

## Scenario 2: Customer increases the quantity of an item in the cart

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Customer increases the quantity of an item in the cart
  Given A customer has 'Wireless Mouse' (ID: 456) in their cart with a quantity of 1 and price $25.00.
  Given The current cart total is $25.00.
  When The customer navigates to the cart page.
  When The customer increases the quantity of 'Wireless Mouse' to 3.
  Then The subtotal for 'Wireless Mouse' should automatically update to $75.00.
  Then The cart total should automatically update to $75.00.
  Then The displayed quantity for 'Wireless Mouse' should be 3.
```

## Scenario 3: Customer attempts to add an out-of-stock item to the cart

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Customer attempts to add an out-of-stock item to the cart
  Given A customer is viewing the product detail page for 'Limited Edition Keyboard' (ID: 789).
  Given 'Limited Edition Keyboard' is currently marked as out of stock.
  When The customer clicks the 'Add to Cart' button.
  Then The system should display a clear notification 'Limited Edition Keyboard is currently out of stock'.
  Then The item should not be added to the cart.
  Then The cart icon should remain unchanged.
```

## Scenario 4: Customer attempts to checkout with an item that became out of stock

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Customer attempts to checkout with an item that became out of stock
  Given A logged-in customer has 'Gaming Headset' (ID: 101) in their cart with quantity 1.
  Given 'Gaming Headset' was in stock when added, but has since become out of stock.
  Given The customer proceeds to the checkout page.
  When The customer clicks the 'Proceed to Payment' button on the checkout page.
  Then The system should display a prominent message 'One or more items in your cart are out of stock and cannot be purchased.'.
  Then The system should highlight 'Gaming Headset' as out of stock.
  Then The customer should be prevented from completing the checkout process until the out-of-stock item is removed or quantity adjusted.
```

## Scenario 5: Logged-in customer's cart persists across sessions

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Logged-in customer's cart persists across sessions
  Given A customer is logged in.
  Given The customer has added 'Monitor 27-inch' (ID: 202) and 'Webcam HD' (ID: 303) to their cart.
  Given The customer logs out of their account.
  When The customer logs back into their account after some time.
  Then The cart should display 'Monitor 27-inch' and 'Webcam HD' with their original quantities and prices.
  Then The cart total should reflect the sum of these items.
```

## Scenario 6: Customer removes an item from the cart by decreasing quantity to zero

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Customer removes an item from the cart by decreasing quantity to zero
  Given A customer has 'USB Hub' (ID: 404) in their cart with a quantity of 1 and price $15.00.
  Given The current cart total is $15.00.
  When The customer navigates to the cart page.
  When The customer decreases the quantity of 'USB Hub' to 0 (or clicks a 'remove' button).
  Then 'USB Hub' should be removed from the cart display.
  Then The cart total should automatically update to $0.00.
  Then The cart should be empty.
```

## Scenario 7: Guest customer's cart does not persist across sessions

**Feature:** Shopping Cart Management

```gherkin
Feature: Shopping Cart Management

Scenario: Guest customer's cart does not persist across sessions
  Given A guest customer (not logged in) has added 'Bluetooth Speaker' (ID: 505) to their cart.
  Given The customer closes their browser window.
  When The customer re-opens the browser and navigates to the e-commerce site.
  Then The cart should be empty.
  Then 'Bluetooth Speaker' should not be present in the cart.
```

