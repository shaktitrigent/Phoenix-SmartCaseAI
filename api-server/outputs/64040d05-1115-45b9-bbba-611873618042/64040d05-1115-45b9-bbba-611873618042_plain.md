# Test Cases - Plain English Format

**Generated:** 2025-10-02 14:15:22
**Provider:** gemini
**User Story:** User Story
As an e-commerce customer,
I want to add items to my shopping cart and update quantities,
So that I can review and purchase multiple products in one checkout.

Acceptance Criteria

User can add items to the cart from product listing and product detail pages.

Cart should display product name, price, quantity, and subtotal for each item.

User can update item quantity (increase/decrease) directly from the cart.

If a product is out of stock, the cart should notify the user and prevent checkout.

The cart total should update automatically when items or quantities change.

Cart contents should persist for logged-in users across sessions.

## Test Case 1: Add multiple items and update quantities in cart

**Description:** Verify that a user can add multiple distinct items to the cart from different pages, and then update their quantities, ensuring all cart details (product name, price, quantity, subtotal, and total) update correctly.

**Steps:**
1. Navigate to Product Listing Page.
2. Add 'Product A' to cart.
3. Navigate to Product Detail Page for 'Product B'.
4. Add 'Product B' to cart.
5. Navigate to the Shopping Cart page.
6. Verify 'Product A' and 'Product B' are displayed with correct name, price, quantity (1), and subtotal.
7. Increase quantity of 'Product A' from 1 to 3.
8. Decrease quantity of 'Product B' from 1 to 1 (no change, but tests interaction).
9. Add 'Product C' from a product detail page (e.g., by direct URL or search).
10. Navigate back to the Shopping Cart page.

**Expected Result:** Cart displays 'Product A' with quantity 3, correct subtotal (price * 3). Cart displays 'Product B' with quantity 1, correct subtotal (price * 1). Cart displays 'Product C' with quantity 1, correct subtotal (price * 1). The overall cart total is the sum of all item subtotals and updates automatically after each quantity change.

## Test Case 2: Verify cart contents persist for logged-in users across sessions

**Description:** Ensure that items added to the cart by a logged-in user are saved and restored when the user logs out and then logs back in.

**Steps:**
1. Log in as an existing user.
2. Add 'Product X' (quantity 2) and 'Product Y' (quantity 1) to the cart.
3. Verify items are in the cart and total is correct.
4. Log out of the account.
5. Close the browser or clear session cookies (if applicable for testing).
6. Open the browser and navigate to the e-commerce site.
7. Log in with the same user account.
8. Navigate to the Shopping Cart page.

**Expected Result:** The cart displays 'Product X' with quantity 2 and 'Product Y' with quantity 1, and the correct cart total, exactly as it was before logging out.

## Test Case 3: Prevent adding out-of-stock items to cart

**Description:** Verify that the system prevents users from adding items that are out of stock and provides an appropriate notification.

**Steps:**
1. Navigate to the Product Detail Page for 'Product Z' (which is out of stock).
2. Attempt to click the 'Add to Cart' button.
3. Navigate to the Shopping Cart page (if the button allowed interaction).

**Expected Result:** The 'Add to Cart' button for 'Product Z' is disabled or clicking it results in an error message (e.g., 'Product Z is currently out of stock'). 'Product Z' is NOT added to the shopping cart. The user receives a clear notification about the product being out of stock.

## Test Case 4: Prevent increasing quantity beyond available stock

**Description:** Verify that a user cannot increase the quantity of an item in the cart beyond its current available stock, and an appropriate message is displayed.

**Steps:**
1. Log in as a user.
2. Add 'Limited Stock Item' (quantity 1) to the cart.
3. Navigate to the Shopping Cart page.
4. Attempt to increase the quantity of 'Limited Stock Item' to 6 (or more) using the quantity update control.

**Expected Result:** The quantity of 'Limited Stock Item' in the cart remains at 5 (the maximum available stock). An error message or notification is displayed, indicating that the requested quantity exceeds available stock (e.g., 'Only 5 units of 'Limited Stock Item' are available'). The subtotal and cart total reflect the quantity of 5.

## Test Case 5: Remove item by decreasing quantity to zero

**Description:** Verify that decreasing an item's quantity to zero effectively removes the item from the cart and updates the cart total accordingly.

**Steps:**
1. Navigate to the Shopping Cart page.
2. Locate 'Product B'.
3. Decrease the quantity of 'Product B' from 1 to 0 using the quantity update control (or a dedicated remove button if available, focusing on quantity control as per AC).
4. Observe the cart display.

**Expected Result:** 'Product B' is removed entirely from the shopping cart display. The cart subtotal for 'Product B' is removed. The overall cart total automatically updates to reflect the removal of 'Product B'. 'Product A' remains in the cart with its original quantity and subtotal.

## Test Case 6: Verify correct display of product details in cart

**Description:** Ensure that the shopping cart accurately displays all required product information for each item: product name, price, quantity, and subtotal.

**Steps:**
1. Log in as a user.
2. Add 'Premium Widget' (quantity 2) to the cart.
3. Add 'Basic Gadget' (quantity 1) to the cart.
4. Navigate to the Shopping Cart page.
5. Visually inspect the details for each item in the cart.

**Expected Result:** For 'Premium Widget': Product Name: 'Premium Widget', Price: '$10.00', Quantity: '2', Subtotal: '$20.00' (calculated as $10.00 * 2). For 'Basic Gadget': Product Name: 'Basic Gadget', Price: '$5.50', Quantity: '1', Subtotal: '$5.50' (calculated as $5.50 * 1). The overall cart total is '$25.50' and updates automatically if quantities are changed.

## Test Case 7: Verify automatic cart total update on quantity change

**Description:** Ensure that the total price of the cart automatically updates in real-time when the quantity of an item is changed.

**Steps:**
1. Navigate to the Shopping Cart page.
2. Note the initial cart total (should be $30.00).
3. Increase the quantity of 'Item A' from 1 to 2.
4. Observe the cart total.
5. Decrease the quantity of 'Item B' from 1 to 0 (removing it).
6. Observe the cart total.

**Expected Result:** After increasing 'Item A' quantity to 2, the cart total immediately updates to $40.00 (2 * $10.00 + 1 * $20.00). After decreasing 'Item B' quantity to 0, the cart total immediately updates to $20.00 (2 * $10.00). The updates are real-time, without requiring a page refresh or explicit 'update cart' button click.

